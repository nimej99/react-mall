{"version":3,"file":"static/js/892.d140e6b0.chunk.js","mappings":"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","sources":["pages/Detail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Navigate, useNavigate, useParams } from 'react-router-dom';\r\nimport { order, stockIncrease } from '../store/stockSlice';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { Context1 } from '../App';\r\n// import styled from 'styled-components';\r\n\r\n// let Btn = styled.button`\r\n//   background : ${props => props.color};\r\n//   color : black;\r\n//   padding : 10px;\r\n// `\r\n\r\nfunction Detail(props) {\r\n\r\n  useEffect(()=>{\r\n    let duplication = localStorage.getItem('watched');\r\n    duplication = JSON.parse(duplication)\r\n    duplication.unshift(item[0].id)\r\n    //기존 배열 -> set 자료형(중복제거) -> 다시 배열\r\n    duplication = new Set(duplication)\r\n    duplication = Array.from(duplication)\r\n    localStorage.setItem('watched', JSON.stringify(duplication))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // automatic batching state변경함수가 연달아 있으면 마지막 함수만 실행.\r\n    let timer = setTimeout(() => {\r\n      setCount(true);\r\n    }, 2000)\r\n    setFade2('end');\r\n\r\n    //cleanup function이 제일 먼저 실행됨, unmount시 실행\r\n    return () => {\r\n      clearTimeout(timer);\r\n      setFade2('');\r\n    }\r\n  }, [])\r\n\r\n\r\n  const [count, setCount] = useState(false);\r\n  const [many, setMany] = useState(0);\r\n  const [alert, setAlert] = useState(false);\r\n  const [tab, setTab] = useState(0);\r\n  const [fade2, setFade2] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (isNaN(many) == true) {\r\n      setAlert(true);\r\n    }\r\n\r\n    let timer = setTimeout(() => {\r\n      setAlert(false);\r\n    }, 2000)\r\n\r\n    //cleanup function이 제일 먼저 실행됨, unmount시 실행\r\n    return () => {\r\n      clearTimeout(timer);\r\n    }\r\n  }, [many])\r\n\r\n  let { id } = useParams();\r\n  let item = props.data.filter(\r\n    (data) => data.id == id\r\n  );\r\n\r\n  const stock = useSelector((state) => state.stock);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n\r\n  return (\r\n    <div className={`container start ${fade2}`}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <img src={`https://codingapple1.github.io/shop/shoes${item[0].id + 1}.jpg`} width=\"100%\" alt='img' />\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          {\r\n            !count\r\n              ? <div>\r\n                2초이내 구매시 할인\r\n                {count}\r\n                <button onClick={() => {\r\n                  setCount(count + 1)\r\n                }}>카운트버튼</button>\r\n              </div>\r\n              : null\r\n          }\r\n          <h4 className=\"pt-5\">{item[0].title}</h4>\r\n          <p>{item[0].content}</p>\r\n          <p>{item[0].price}원</p>\r\n\r\n          {\r\n            !alert\r\n              ? null\r\n              : <p>숫자만입력가능합니다</p>\r\n          }\r\n          <input type=\"text\" onChange={(e) => setMany(e.target.value)} />\r\n          <button className=\"btn btn-danger\" onClick={() => {\r\n            let duplication = stock.find((data)=>data.id == item[0].id)\r\n            !duplication\r\n            ? dispatch(order(\r\n              { id: item[0].id, name: item[0].title, count: 1 }\r\n            ))\r\n            : dispatch(stockIncrease(item[0].id));\r\n            navigate('/cart')\r\n          }}>주문하기</button>\r\n          {/* <Btn color='red'></Btn> */}\r\n        </div>\r\n      </div>\r\n\r\n      <Nav variant=\"tabs\" defaultActiveKey=\"link0\">\r\n        <Nav.Item>\r\n          <Nav.Link eventKey=\"link0\" onClick={() => { setTab(0) }}>버튼0</Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link eventKey=\"link1\" onClick={() => { setTab(1) }}>버튼1</Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link eventKey=\"link2\" onClick={() => { setTab(2) }}>버튼2</Nav.Link>\r\n        </Nav.Item>\r\n      </Nav>\r\n\r\n      <TabContent data={props.data} tab={tab} />\r\n\r\n    </div>\r\n  );\r\n}\r\n//if문은 html 밖에.\r\nfunction TabContent(props) {\r\n  // if(props.tab == 0){\r\n  //   return <div>내용0</div>\r\n  // } else if(props.tab == 1){\r\n  //   return <div>내용1</div>\r\n  // } else if(props.tab == 2){\r\n  //   return <div>내용2</div>\r\n  // }\r\n  let { 재고 } = useContext(Context1);\r\n  let [fade, setFade] = useState('');\r\n  useEffect(() => {\r\n    // react 18버전 오토매틱 배칭 기능으로 상태변경함수 근처에 같은 함수가 있을시 가장 마지막 함수를 렌더링에 적용하기 때문에 1순위인 공백을 무시하고 end만 바로 적용 시키기에 시차를 주는 방법\r\n    let timer = setTimeout(() => {\r\n      setFade('end');\r\n    }, 100)\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n      setFade('');\r\n    }\r\n  }, [props.tab])\r\n  return (\r\n    <div className={`start ${fade}`}>\r\n      {[<div>{재고[0]}</div>, <div>{재고[1]}</div>, <div>{재고[2]}</div>][props.tab]}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default Detail;"],"names":["TabContent","props","재고","useContext","Context1","_useState11","useState","_useState12","_slicedToArray","fade","setFade","useEffect","timer","setTimeout","clearTimeout","tab","_jsx","className","concat","children","duplication","localStorage","getItem","JSON","parse","unshift","item","id","Set","Array","from","setItem","stringify","setCount","setFade2","_useState","_useState2","count","_useState3","_useState4","many","setMany","_useState5","_useState6","alert","setAlert","_useState7","_useState8","setTab","_useState9","_useState10","fade2","isNaN","useParams","data","filter","stock","useSelector","state","dispatch","useDispatch","navigate","useNavigate","_jsxs","src","width","alt","onClick","title","content","price","type","onChange","e","target","value","find","stockIncrease","order","name","Nav","variant","defaultActiveKey","Item","Link","eventKey"],"sourceRoot":""}